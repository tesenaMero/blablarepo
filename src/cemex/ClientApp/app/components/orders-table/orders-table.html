<!-- Responsive table starts here -->
<!-- For correct display on small screens you must add 'data-title' to each 'td' in your table -->
<loading-table *ngIf="isLoading" [rows]="ordersQty"></loading-table>
<div *ngIf="!isLoading && orders?.length == 0 ">
    <p style="text-align: center;
    color: #9CA4AE;
    padding: 80px 0;
    font-size: 40px;">No orders found</p>
</div>
<div *ngIf="!isLoading && orders?.length > 0" class="table-responsive-vertical shadow-z-1">
    <!-- Table starts here -->
    <table id="table" class="table table-fixed main table-hover table-striped">
        <thead>
            <tr>
                <!-- <th class="i-column" width="5%">
                    <i class="star cmx-icon-favourite-active" aria-hidden="true"></i>
                    <svg class="control"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-down-single"></use></svg>
                </th> -->
                <th width="10%">
                    Order No
                    <svg class="control"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-down-single"></use></svg>
                </th>
                <th width="15%">
                    Submitted
                    <svg class="control"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-down-single"></use></svg>
                </th>
                <th width="25%">
                    Location
                    <svg class="control"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-down-single"></use></svg>
                </th>
                <th width="20%">
                    Purchase Order Number
                    <svg class="control"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-down-single"></use></svg>
                </th>
                <th width="10%">
                    Products
                    <svg class="control"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-down-single"></use></svg>
                </th>
                <th width="10%">
                    Amount
                    <svg class="control"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-down-single"></use></svg>
                </th>
                <th width="25%">
                    Requested date
                    <svg class="control"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-down-single"></use></svg>
                </th>
                <th width="13%">
                    Status
                    <svg class="control"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-down-single"></use></svg>
                </th>
                <th width="13%">
                    Total amount
                    <svg class="control"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-down-single"></use></svg>
                </th>
                <!-- <th width="5%">
                </th> -->
            </tr>
        </thead>
        <tbody>
            <ng-container *ngFor="let order of orders; let index = index; let odd = odd">
                <tr class="order" [ngClass]="{ 'zebra': odd }">
                    <!-- <td class="i-column" data-title="Favorite">
                        <i class="star cmx-icon-favourite-active" [class.active]="order.orderRequest.isFavorite" aria-hidden="true" (click)="favorite(order.orderRequest.orderRequestId, !order.orderRequest.isFavorite)"></i>
                    </td> -->
                    <td class="number" data-title="Order No">{{ order.orderRequest.orderRequestId | zeropad: 7 }}</td>
                    <td data-title="Submitted">08/13/2017 {{order.orderRequest.viewedAt }}</td>
                    <td data-title="Location">{{ makeLocation(order) }}
                    </td>
                    <td data-title="Purchase Order Number">7755-KJ120/00011</td>
                    <td data-title="Products" class="products">
                        <i *ngIf="order.isReadyMix()" class="cmx-icon-driver" aria-hidden="true"></i>
                        <!-- TODO add cement packed/bagged icons -->
                        <i *ngIf="order.isCement()" class="cmx-icon-track" aria-hidden="true"></i>
                        <i *ngIf="order.isAggregates()" class="cmx-icon-user-profile" aria-hidden="true"></i>
                    </td>
                    <td data-title="Amount">{{ order.orderRequest.orderRequestItems.length }} tons</td>
                    <td valign="bottom" data-title="Requested date">{{ order.orderRequest.orderRequestedOn | date:"dd/MM/y HH:mm" }}</td>
                    <td data-title="Status" class="order-first status-block-position">
                        <div class="status {{ order.orderRequest.orderRequestStatus.statusDesc | lowercase }}">{{ order.orderRequest.orderRequestStatus.statusDesc }}</div>
                    </td>
                    <!-- TODO numberal parser -->
                    <td data-title="Total amount">${{ order.orderRequest.totalAmount | number:'.2-2' }}</td>
                    <!-- <td class="i-column" data-title="Repeat">
                        <i class="cmx-icon-repeat"></i>
                    </td> -->
                </tr>
                <tr class="hidden-md-down sub separator"></tr>
            </ng-container>
        </tbody>
    </table>
</div>

<div class="row">
    <div class="col-md-12">
        <div class="pagination">
            <pagination [totalPages]="10" [currentPage]="1" (changePage)="changePage($event)"></pagination>
        </div>
    </div>
</div>