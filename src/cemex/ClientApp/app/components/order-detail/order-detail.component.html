<div class="layout">
    <div class="row" *ngIf="orderDetailData">
        <div class="col-md-12">
            <div class="d-flex align-content-start flex-wrap mb-3">
                <div class="title-container">
                    <h1>Order #{{orderDetailData.orderId}}</h1>
                </div>
                <div class="request-date align-self-center">
                    <span class="title">Request date:</span>
                    <span class="value">{{orderDetailData.requestedDateTime | date : "dd/MM/yyyy, hh:mm"}}</span>
                </div>
            </div>
        </div>
    </div>
    
    <div class="location" *ngIf="orderDetailData">
        <div class="row">
            <div class="col-md-5">
                <div class="group">
                    <div class="title">
                        Location:
                    </div>
                    <div class="desc">
                        {{orderDetailData.jobsite.jobsiteDesc}}
                    </div>
                    <div class="detail" *ngIf="streetJob">
                        {{streetJob.domicileNum}} {{streetJob.streetName}}, {{streetJob.cityDesc}}, {{streetJob.regionDesc}}, {{streetJob.postalCode}}
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="group">
                    <div class="title">
                        Point of Delivery:
                    </div>
                    <div class="desc">
                        {{orderDetailData.pointOfDelivery.pointOfDeliveryDesc}}
                    </div>
                    <div class="detail" *ngIf="streetPOD">
                        {{streetPOD.domicileNum}} {{streetPOD.streetName}}, {{streetPOD.cityDesc}}, {{streetPOD.regionDesc}}, {{streetPOD.postalCode}}   
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="info">
                    <span class="title">Submitted:</span>
                    <span class="value">{{orderDetailData.createdDateTime | date : "dd/MM/yyyy"}}</span>
                </div>
                <div class="info">
                    <span class="title">Submitted by:</span>
                    <span class="value">{{orderDetailData.customer.customerDesc}}</span>
                </div>
                <div class="info">
                    <span class="title">Purchase order:</span>
                    <span class="value">{{orderDetailData.purchaseOrder}}</span>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 info">
                <span class="value status" [ngClass]="{
                    canceled: orderDetailData.status.statusDesc == 'Canceled - Hdr',
                    confirmed: orderDetailData.status.statusCode == 'CONF',
                    draft: orderDetailData.status.statusDesc == 'Draft - Hdr',
                    draft: orderDetailData.status.statusCode == 'DRFT',
                    pending: orderDetailData.status.statusCode == 'INPC',
                    pending: orderDetailData.status.statusDesc == 'Pending',
                    blocked: orderDetailData.status.statusCode == 'BLCK',
                    holded: orderDetailData.status.statusDesc == 'Holded - Hdr',
                    processed: orderDetailData.status.statusDesc == 'In process - Hdr',
                    completed: orderDetailData.status.statusCode == 'CMPO',
                    completed: orderDetailData.status.statusDesc == 'Completed'
                }">{{orderDetailData.status.statusDesc}}</span>
            </div>
        </div>
    </div>
    
    <div class="nav-tab-container"  *ngIf="orderDetailData">
        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#products" role="tab">Products</a>
            </li>
            <!-- <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#action-log" role="tab">Action log</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#comments" role="tab">Comments</a>
            </li> -->
        </ul>
    </div>
    
    <!-- Tab panes -->
    <div class="tab-content"  *ngIf="orderDetailData">
        <div class="tab-pane fade show active" id="products" role="tabpanel">
            <div class="products-container"> 
                <div class="card-container product" id="products-id" *ngFor="let itemData of orderDetailData.items">
                    <div class="row">
                        <div class="col-md-4 col-sm-12 left-container">
                            <div class="name">
                                {{itemData.product.productDesc}}
                            </div>
                        </div>
                        <div class="col-md-8 right-container">
                            <div class="row">
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Quantity
                                        </div>
                                        <div class="value">
                                            {{itemData.quantity}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Unit
                                        </div>
                                        <div class="value">
                                            {{itemData.uom.unitDesc}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Requested date
                                        </div>
                                        <div class="value">
                                            {{orderDetailData.requestedDateTime | date : "dd.MM.yyyy"}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Requested time
                                        </div>
                                        <div class="value">
                                            {{orderDetailData.requestedDateTime | date : "hh:mm"}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Product ID
                                        </div>
                                        <div class="value">
                                            {{itemData.product.productCode}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Contract
                                        </div>
                                        <div class="value" *ngIf="itemData.agreementItem">
                                            {{itemData.agreementItem.agreementItemCode}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Discharge Time
                                        </div>
                                        <div class="value" *ngIf="itemData.orderItemProfile.dischargeTime">
                                            {{itemData.orderItemProfile.dischargeTime.timePerDischargeDesc}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Transport Method
                                        </div>
                                        <div class="value" *ngIf="itemData.transportMethod">
                                            {{itemData.transportMethod.transportMethodDesc}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Unload Type
                                        </div>
                                        <div class="value" *ngIf="itemData.unloadType">
                                            {{itemData.unloadType.unloadTypeDesc}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Delivery mode
                                        </div>
                                        <div class="value" *ngIf="orderDetailData.shippingCondition">                                            
                                            {{orderDetailData.shippingCondition.shippingConditionDesc}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">                                        
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Pump Capacity Min
                                        </div>
                                        <div class="value" *ngIf="itemData.orderItemProfile.pumpCapacity">
                                            {{itemData.orderItemProfile.pumpCapacity.pumpCapacityDesc}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Pump Frequency Max
                                        </div>
                                        <div class="value" *ngIf="itemData.orderItemProfile.timePerLoad">
                                            {{itemData.orderItemProfile.timePerLoad.timePerLoadDesc.timePerLoadDesc}}**
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Application
                                        </div>
                                        <div class="value" *ngIf="itemData.orderItemProfile.element">
                                            {{itemData.orderItemProfile.element.elementDesc}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Kicker
                                        </div>
                                        <div class="value" *ngIf="itemData.orderItemProfile.kicker">                                            
                                            {{itemData.orderItemProfile.kicker}}
                                        </div>
                                    </div>
                                </div>   
                            </div>         
                            <div class="row">  
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Load Size
                                        </div>
                                        <div class="value" *ngIf="itemData.orderItemProfile.loadSize">  
                                            {{itemData.orderItemProfile.loadSize.loadSizeDesc}}
                                        </div>
                                    </div>
                                </div>  
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Spacing
                                        </div>
                                        <div class="value" *ngIf="itemData.orderItemProfile.timePerLoad">
                                            {{itemData.orderItemProfile.timePerLoad.timePerLoadDesc.timePerLoadDesc}}
                                        </div>
                                    </div>
                                </div>        
                            </div>   
                            <div class="row">
                                <div class="col-sm-8">
                                    <div class="group">
                                        <div class="title">
                                            Additional services
                                        </div>
                                        <div class="value" *ngIf="itemData.orderItemProfile.additionalServices">
                                            {{itemData.orderItemProfile.additionalServices.additionalServiceDesc}}
                                        </div>
                                    </div>
                                </div>                                            
                            </div>         
                        </div>
                    </div>
                </div>
            </div>          
        </div>
        <div class="tab-pane fade" id="action-log" role="tabpanel">
            <order-detail-logs orderItemId=2></order-detail-logs>
        </div>
        <div class="tab-pane fade" id="comments" role="tabpanel">
            <order-detail-comments orderItemId=2></order-detail-comments>
        </div>
    </div>
</div>