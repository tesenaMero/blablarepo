<div class="layout">
    <breadcrumbs>
        <breadcrumbs-item link="../orders">Orders</breadcrumbs-item>
        <breadcrumbs-item>Detail</breadcrumbs-item>
    </breadcrumbs>
    <div class="row" *ngIf="orderDetailData">
        <div class="col-md-7">
            <div class="d-flex align-content-start flex-wrap mb-3">
                <div class="title-container">
                    <h1>Order #{{orderDetailData.orderId}}</h1>
                </div>
                <div class="request-date align-self-center">
                    <span class="title">Request date:</span>
                    <span class="value">{{orderDetailData.requestedDateTime | date : "dd/MM/yyyy, hh:mm"}}</span>
                </div>
            </div>
        </div>
        <div class="col-md-5">
            <div class="cto-container center-with-steps">
                <button class="button-ghost" routerLink="../order-detail">Back</button>
            </div>
        </div>
    </div>

    <div class="location" *ngIf="orderDetailData">
        <div class="row">
            <div class="col-md-5">
                <div class="group">
                    <div class="title">
                        Location:
                    </div>
                    <div class="desc">
                        {{orderDetailData.pointOfDelivery.pointOfDeliveryDesc}}
                    </div>
                    <div class="detail">
                        {{orderDetailData.pointOfDelivery.pointOfDeliveryCode}}
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="group">
                    <div class="title">
                        Point of Delivery:
                    </div>
                    <div class="desc">
                        {{orderDetailData.pointOfDelivery.pointOfDeliveryDesc}}
                    </div>
                    <div class="detail">
                        {{orderDetailData.pointOfDelivery.pointOfDeliveryCode}}
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="info">
                    <span class="title">Submitted:</span>
                    <span class="value">{{orderDetailData.createdDateTime | date : "dd/MM/yyyy"}}</span>
                </div>
                <div class="info">
                    <span class="title">Submitted by:</span>
                    <span class="value">{{orderDetailData.customer.customerDesc}}</span>
                </div>
                <div class="info">
                    <span class="title">Purchase order:</span>
                    <span class="value">{{orderDetailData.purchaseOrder}}</span>
                </div>
                <div class="info">
                    <span class="title">Status:</span>
                    <span class="status" [ngClass]="{
                         canceled: orderDetailData.status.statusDesc == 'Canceled - Hdr',
                        confirmed: orderDetailData.status.statusCode == 'CONF',
                            draft: orderDetailData.status.statusDesc == 'Draft - Hdr',
                          pending: orderDetailData.status.statusCode == 'INPC',
                          blocked: orderDetailData.status.statusCode == 'BLCK',
                           holded: orderDetailData.status.statusDesc == 'Holded - Hdr',
                        processed: orderDetailData.status.statusDesc == 'In process - Hdr',
                        completed: orderDetailData.status.statusCode == 'CMPO'
                    }"></span>
                    <span class="value">{{orderDetailData.status.statusDesc}}</span>
                </div>
            </div>
        </div>
    </div>

    <div class="nav-tab-container"  *ngIf="orderDetailData">
        <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item">
                <a class="nav-link active" data-toggle="tab" href="#products" role="tab">Products</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#action-log" role="tab">Action log</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-toggle="tab" href="#comments" role="tab">Comments</a>
            </li>
        </ul>
    </div>

    <!-- Tab panes -->
    <div class="tab-content"  *ngIf="orderDetailData">
        <div class="tab-pane fade show active" id="products" role="tabpanel">
            <div class="products-container"> 
                <div class="card-container product" id="products-id" *ngFor="let itemData of orderDetailData.items">
                    <div class="row">
                        <div class="col-md-4 col-sm-12 left-container">
                            <div class="name">
                                {{itemData.product.productDesc}}
                            </div>
                        </div>
                        <div class="col-md-8 right-container">
                            <div class="row">
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Quantity
                                        </div>
                                        <div class="value">
                                            {{itemData.quantity}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Unit
                                        </div>
                                        <div class="value">
                                            {{itemData.uom.unitDesc}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Requested date
                                        </div>
                                        <div class="value">
                                            {{orderDetailData.requestedDateTime | date : "dd.MM.yyyy"}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 col-xs-6">
                                    <div class="group">
                                        <div class="title">
                                            Requested time
                                        </div>
                                        <div class="value">
                                            {{orderDetailData.requestedDateTime | date : "hh:mm"}}
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="group">
                                        <div class="title">
                                            Product ID
                                        </div>
                                        <div class="value">
                                            {{itemData.product.productCode}}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="group">
                                        <div class="title">
                                            Contract
                                        </div>
                                        <div class="value">
                                            10-201702189034 Remaining volume: 180
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="group">
                                        <div class="title">
                                            Projet profile
                                        </div>
                                        <div class="value">
                                            My Project Profile with quite long technical title, that it must be for more rows
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <!-- Flex way -->
                                    <div class="d-flex flex-wrap">
                                        <div class="group">
                                            <div class="title">
                                                Discharge Time
                                            </div>
                                            <div class="value">
                                                60min
                                            </div>
                                        </div>
                                        <div class="group">
                                            <div class="title">
                                                Transport Method
                                            </div>
                                            <div class="value">
                                                Truck
                                            </div>
                                        </div>
                                        <div class="group">
                                            <div class="title">
                                                Unload Type
                                            </div>
                                            <div class="value">
                                                Pump
                                            </div>
                                        </div>
                                        <div class="group">
                                            <div class="title">
                                                Pump Capacity Min
                                            </div>
                                            <div class="value">
                                                30 m3/s
                                            </div>
                                        </div>
                                        <div class="group">
                                            <div class="title">
                                                Pump Capacity Max
                                            </div>
                                            <div class="value">
                                                40 m<sup>3</sup>/s
                                            </div>
                                        </div>
                                        <div class="group">
                                            <div class="title">
                                                Application
                                            </div>
                                            <div class="value">
                                                Roof
                                            </div>
                                        </div>
                                        <div class="group">
                                            <div class="title">
                                                Load Size
                                            </div>
                                            <div class="value">
                                                10 tons
                                            </div>
                                        </div>
                                        <div class="group">
                                            <div class="title">
                                                Spacing
                                            </div>
                                            <div class="value">
                                                10 min
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="group">
                                        <div class="title">
                                            Additional services
                                        </div>
                                        <div class="value">
                                            20939302/10292/20102
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="d-flex flex-wrap">
                                        <div class="group flex-6">
                                            <div class="title">
                                                Delivery mode
                                            </div>
                                            <div class="value">
                                                Delivery
                                            </div>
                                        </div>
                                        <div class="group">
                                            <div class="title">
                                                Kicker
                                            </div>
                                            <div class="value">
                                                Yes
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>          
        </div>
        <div class="tab-pane fade" id="action-log" role="tabpanel">
            <order-detail-logs orderItemId=2></order-detail-logs>
        </div>
        <div class="tab-pane fade" id="comments" role="tabpanel">
            <order-detail-comments orderItemId=2></order-detail-comments>
        </div>
    </div>
</div>